version: 2

models:
  - name: promos 
    description: descuentos y promociones 
    columns:
      - name: PROMO_ID 
        data_type: varchar
        description: clave primaria de la tabla promos identificador único
        tests:
          - unique
          - not_null
      - name: DISCOUNT 
        data_type: number
        description: número que se resta al precio inicial 
      - name: STATUS 
        data_type: varchar
        description: estado de la promo, activada o desactivada
        tests:
          - not_null
          - accepted_values:
              values: ['active', 'inactive']
      - name: _FIVETRAN_DELETED
        data_type: boolean
        description: indica si el registro fue eliminado en el origen
      - name: _FIVETRAN_SYNCED
        data_type: timestamp_tz
        description: última sincronización de los datos

  - name: users
    description: tabla de usuarios 
  
    columns:
      - name: USER_ID 
        data_type: varchar
        description: clave única de la tabla usuarios 
        tests:
          - not_null
          - unique
      - name: UPDATED_AT 
        data_type: timestamp_tz(9)
        description: fecha de última actualización 
        tests:
          - not_null
      - name: ADDRESSES_ID
        data_type: varchar
        description: clave foránea de la tabla addresses
        tests:
          - unique
      - name: LAST_NAME
        data_type: varchar
        description: apellido del usuario
      - name: CREATED_AT
        data_type: timestamp_tz
        description: fecha de creación del usuario 
      - name: PHONE_NUMBER 
        data_type: varchar
        description: número de teléfono asociado al usuario  
        tests:
          - unique
      - name: TOTAL_ORDERS 
        data_type: number(38,0)
        description: número total de pedidos  
      - name: FIRST_NAME 
        data_type: varchar
        description: nombre del usuario
      - name: EMAIL 
        data_type: varchar
        description: correo electrónico del usuario
        tests:
          - unique
      - name: _FIVETRAN_DELETED
        data_type: boolean
        description: indica si el registro fue eliminado en el origen
      - name: _FIVETRAN_SYNCED
        data_type: timestamp_tz
        description: última sincronización de los datos

  - name: orders
    columns:
      - name: ORDER_ID 
        data_type: varchar
        description: >
         clave unica de order 
        tests:
          - unique
          - not_null
          
      - name: SHIPPING_SERVICE 
        data_type: varchar
        description: >
         compañia de paqueteria con la que se manda 
        tests:
           - accepted_values:
              values: ['usps','dhl','ups','fedex']
      - name: SHIPPING_COST 
        data_type: float
        description: >
         precio del envio 
      - name: ADDRESS_ID 
        data_type: varchar
        description: >
         clave foranea que hace referencia a la tabla de direcciones (addresses)
        tests:
          - not_null 
      - name: CREATED_AT
        data_type: timestamp_tz
        description: >
         cuando se ha creado el producto


      - name: PROMO_ID 
        data_type: varchar
        description: >
         cuando se ha creado el producto
      - name: ESTIMATED_DELIVERY_AT 
        data_type: timestamp_tz(9)
      - name: ORDER_COST 
        data_type: float
      - name: USER_ID
        data_type: varchar(256)    
      - name: ORDER_TOTAL
        data_type: float 
      - name: DELIVERED_AT
        data_type: timestamp_tz(9) 
      - name: TRACKING_ID
        data_type: varchar(256) 
      - name: STATUS
        data_type: varchar(256)
      - name: _FIVETRAN_DELETED
        data_type: boolean
        description: indica si el registro fue eliminado en el origen
      - name: _FIVETRAN_SYNCED
        data_type: timestamp_tz
        description: última sincronización de los datos
  - name: order_items

    columns:
      - name: ORDER_ID
        data_type: varchar
        description: >
         clave foranea de la tabla orders
      - name: PRODUCT_ID
        data_type: varchar
        description: >
         clave foranea de producto
        tests:
          - unique
          - not_null
           
      - name: QUANTITY
        description: >
         cantidad de productos pedidos 
        data_type: number


  - name: products

    columns:
      - name: PRODUCT_ID
        data_type: varchar
        description: >
         clave de identificacion de la tabla productos
        tests:
          - not_null
          - unique
          
      - name: PRICE
        data_type: float
        description: >
         precio del producto en si 
      - name: NAME
        data_type: varchar
        description: >
         nombre del producto
      - name: INVENTORY
        data_type: number
        description: cantidad en el inventario 

  - name: addresses

    columns:
      - name: ADDRESSES_ID
        data_type: varchar(256)
      - name: ZIPCODE 
        data_type: number(38,0)
      - name: COUNTRY
        data_type: varchar(256)
      - name: ADDRESS
        data_type: varchar(256)
      - name: STATE
        data_type: varchar(256)
      - name: _FIVETRAN_DELETED
        data_type: boolean
        description: indica si el registro fue eliminado en el origen
      - name: _FIVETRAN_SYNCED
        data_type: timestamp_tz
        description: última sincronización de los datos
  - name: events
  
    columns:
      - name: EVENT_ID  
        data_type: varchar(1024)
      - name: PAGE_URL
        data_type: varchar(1024)
      - name: EVENT_TYPE
        data_type: varchar(100)
      - name: USER_ID
        data_type: varchar(256)
      - name: PRODUCT_ID
        data_type: varchar(256)
      - name: _FIVETRAN_DELETED
        data_type: boolean
        description: indica si el registro fue eliminado en el origen
      - name: _FIVETRAN_SYNCED
        data_type: timestamp_tz
        description: última sincronización de los datos
